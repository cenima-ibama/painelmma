// Generated by CoffeeScript 1.7.1
(function() {
  var chart1, chart2, chart3, chart4, chart5, chart6, chart7, chart8, chart9, chartAnnualEmbargo, chartDailyEmbargo, chartMonthlyEmbargo, chartStatesEmbargo, chartsDeter, chartsEmbargo, i, knob1, knob2, knob3, lastSelectedRegion, properties, region, reloadChartsDeter, reloadChartsEmbargos, rest, selectMonths, selectType, selectYears, selectedYear, spark1, spark2, sparkAnnualEmbargo, sparkMonthlyEmbargo, sparkTVAAEmbargo, sparkTVMAEmbargo, sparkTVPAEmbargo, sparksDeter, sparksEmbargo, state, _i, _j, _k, _l, _len, _len1, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;

  H5.Data.restURL = "http://" + document.domain + "/painel/rest";

  H5.Data.domanin = "http://" + document.domain + "/painel";

  H5.Data.changed = false;

  H5.DB.dado_prodes_consolidado = {};

  H5.DB.dado_prodes_consolidado.table = "dado_prodes_consolidado";

  H5.DB.rankings = {};

  H5.DB.rankings.ranking_assentamento = {};

  H5.DB.rankings.ranking_assentamento.table = "ranking_assentamento";

  H5.DB.rankings.ranking_assentamento_estadual = {};

  H5.DB.rankings.ranking_assentamento_estadual.table = "ranking_assentamento_estadual";

  H5.DB.rankings.ranking_terra_indigena = {};

  H5.DB.rankings.ranking_terra_indigena.table = "ranking_terra_indigena";

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral = {};

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral.table = "ranking_unidades_de_conservacao_protecao_integral";

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual = {};

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual.table = "ranking_unidades_de_conservacao_protecao_integral_estadual";

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel = {};

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel.table = "ranking_unidades_de_conservacao_uso_sustentavel";

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual = {};

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual.table = "ranking_unidades_de_conservacao_uso_sustentavel_estadual";

  H5.Data.state2 = "brasil";

  H5.Data.statesProdes = ["AC", "AP", "AM", "PA", "RO", "RR", "TO", "MT", "MA"];

  H5.Data.state = "brasil";

  H5.Data.states = ["AC", "AM", "AP", "MA", "MT", "PA", "RO", "RR", "TO"];

  H5.Data.allstates = ["AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA", "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN", "RS", "RO", "RR", "SC", "SP", "SE", "TO"];

  H5.Data.regions = {
    names: ["norte", "sul", "nordeste", "sudeste", "centrooeste"],
    amazonia: ["AC", "AP", "AM", "PA", "RO", "RR", "TO", "MT", "MA", "brasil"],
    norte: ["AC", "AP", "AM", "PA", "RO", "RR", "TO"],
    sul: ["PR", "RS", "SC"],
    nordeste: ["AL", "BA", "CE", "MA", "PB", "PE", "PI", "RN", "SE"],
    sudeste: ["ES", "MG", "RJ", "SP"],
    centrooeste: ["DF", "GO", "MT", "MS"]
  };

  H5.Data.years = ["2015", "2014", "2013", "2012", "2011", "2010", "2009", "2008", "2007", "2006", "2005"];

  H5.Data.thisDate = new Date();

  H5.Data.thisYear = H5.Data.thisDate.getFullYear();

  H5.Data.thisProdesYear = H5.Data.thisMonth < 7 ? H5.Data.thisYear : H5.Data.thisYear + 1;

  H5.Data.thisMonth = H5.Data.thisDate.getMonth();

  H5.Data.thisDay = H5.Data.thisDate.getDate();

  H5.Data.rateSlct = 0;

  H5.Data.shapeSlct = 0;

  H5.Data.totalPeriods = H5.Data.thisMonth < 7 ? H5.Data.thisDate.getFullYear() - 2005 : H5.Data.thisDate.getFullYear() - 2004;

  H5.Data.periods = new Array(H5.Data.totalPeriods);

  for (i = _i = 0, _ref = H5.Data.totalPeriods; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
    if (H5.Data.thisMonth < 7) {
      H5.Data.periods[i] = (H5.Data.thisDate.getFullYear() - i - 1) + "-" + (H5.Data.thisDate.getFullYear() - i);
    } else {
      H5.Data.periods[i] = (H5.Data.thisDate.getFullYear() - i) + "-" + (H5.Data.thisDate.getFullYear() - i + 1);
    }
  }

  H5.Data.months = {
    0: "Ago",
    1: "Set",
    2: "Out",
    3: "Nov",
    4: "Dez",
    5: "Jan",
    6: "Fev",
    7: "Mar",
    8: "Abr",
    9: "Mai",
    10: "Jun",
    11: "Jul"
  };

  H5.Data.CompleteMonths = {
    "AGOSTO": 0,
    "SETEMBRO": 1,
    "OUTUBRO": 2,
    "NOVEMBRO": 3,
    "DEZEMBRO": 4,
    "JANEIRO": 5,
    "FEVEREIRO": 6,
    "MARCO": 7,
    "ABRIL": 8,
    "MAIO": 9,
    "JUNHO": 10,
    "JULHO": 11
  };

  if (!H5.isMobile.any()) {
    H5.Data.animate = {
      duration: 500,
      easing: "inAndOut"
    };
  } else {
    H5.Data.animate = {};
  }

  H5.DB.embargo.data = {
    init: function() {
      var state, _j, _len, _ref1, _results;
      this.states = {};
      _ref1 = H5.Data.allstates;
      _results = [];
      for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
        state = _ref1[_j];
        _results.push(this.states[state] = {});
      }
      return _results;
    },
    populate: function(state, date, value) {
      var convertDate, self;
      if (state && date) {
        convertDate = function(dateStr) {
          var dArr;
          dateStr = String(dateStr);
          dArr = dateStr.split("-");
          return new Date(dArr[0], dArr[1] - 1, dArr[2]);
        };
        self = this.states[state];
        self[date] = {};
        self[date].area = value ? value : 0;
        self[date].date = convertDate(date);
        self[date].year = convertDate(date).getFullYear();
        self[date].month = convertDate(date).getMonth();
        self[date].day = convertDate(date).getDate();
        if (this.lastValue) {
          if (this.lastValue.date < self[date].date) {
            this.lastValue = self[date];
          }
        } else {
          this.lastValue = self[date];
        }
      }
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.embargo.table,
    fields: "uf, data_cadastro, qtd_area_desmatada"
  });

  H5.DB.embargo.data.init();

  _ref1 = rest.data;
  for (i in _ref1) {
    properties = _ref1[i];
    H5.DB.embargo.data.populate(properties.uf, properties.data_cadastro, parseFloat(properties.qtd_area_desmatada));
  }

  H5.DB.diary.data = {
    init: function() {
      var state, _j, _len, _ref2, _results;
      this.states = {};
      _ref2 = H5.Data.states;
      _results = [];
      for (_j = 0, _len = _ref2.length; _j < _len; _j++) {
        state = _ref2[_j];
        _results.push(this.states[state] = {});
      }
      return _results;
    },
    populate: function(state, date, value) {
      var convertDate, self;
      convertDate = function(dateStr) {
        var dArr;
        dateStr = String(dateStr);
        dArr = dateStr.split("-");
        return new Date(dArr[0], dArr[1] - 1, dArr[2]);
      };
      self = this.states[state];
      self[date] = {};
      self[date].area = value;
      self[date].date = convertDate(date);
      self[date].year = convertDate(date).getFullYear();
      self[date].month = convertDate(date).getMonth();
      self[date].day = convertDate(date).getDate();
      if (this.lastValue) {
        if (this.lastValue.date < self[date].date) {
          this.lastValue = self[date];
        }
      } else {
        this.lastValue = self[date];
      }
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.diary.table,
    fields: "estado, data, total"
  });

  H5.DB.diary.data.init();

  _ref2 = rest.data;
  for (i in _ref2) {
    properties = _ref2[i];
    H5.DB.diary.data.populate(properties.estado, properties.data, parseFloat(properties.total));
  }

  H5.DB.prodes.data = {
    init: function() {
      var period, state, _j, _len, _ref3, _results;
      this.states = {};
      _ref3 = H5.Data.states;
      _results = [];
      for (_j = 0, _len = _ref3.length; _j < _len; _j++) {
        state = _ref3[_j];
        this.states[state] = {};
        _results.push((function() {
          var _k, _len1, _ref4, _results1;
          _ref4 = H5.Data.periods;
          _results1 = [];
          for (_k = 0, _len1 = _ref4.length; _k < _len1; _k++) {
            period = _ref4[_k];
            _results1.push(this.states[state][period] = {});
          }
          return _results1;
        }).call(this));
      }
      return _results;
    },
    populate: function(period, ac, am, ap, ma, mt, pa, ro, rr, to) {
      var self;
      self = this.states;
      self.AC[period].area = ac;
      self.AM[period].area = am;
      self.AP[period].area = ap;
      self.MA[period].area = ma;
      self.MT[period].area = mt;
      self.PA[period].area = pa;
      self.RO[period].area = ro;
      self.RR[period].area = rr;
      return self.TO[period].area = to;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.prodes.table
  });

  H5.DB.prodes.data.init();

  _ref3 = rest.data;
  for (i in _ref3) {
    properties = _ref3[i];
    H5.DB.prodes.data.populate(properties.ano_prodes.replace('/', '-'), parseFloat(properties.ac), parseFloat(properties.am), parseFloat(properties.ap), parseFloat(properties.ma), parseFloat(properties.mt), parseFloat(properties.pa), parseFloat(properties.ro), parseFloat(properties.rr), parseFloat(properties.to));
  }

  H5.DB.cloud.data = {
    init: function() {
      return this.nuvem = {};
    },
    populate: function(date, value) {
      var convertDate, self;
      convertDate = function(dateStr) {
        var dArr;
        dateStr = String(dateStr);
        dArr = dateStr.split("-");
        return new Date(dArr[0], dArr[1] - 1, dArr[2]);
      };
      self = this.nuvem;
      self[date] = {};
      self[date].value = value;
      self[date].date = convertDate(date);
      self[date].year = convertDate(date).getFullYear();
      self[date].month = convertDate(date).getMonth();
      return self[date].day = convertDate(date).getDate();
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.cloud.table
  });

  H5.DB.cloud.data.init();

  _ref4 = rest.data;
  for (i in _ref4) {
    properties = _ref4[i];
    H5.DB.cloud.data.populate(properties.data, properties.percent);
  }

  H5.DB.dado_prodes_consolidado.data = {
    init: function() {
      var state, _j, _len, _ref5;
      this.states = {};
      _ref5 = H5.Data.allstates;
      for (_j = 0, _len = _ref5.length; _j < _len; _j++) {
        state = _ref5[_j];
        this.states[state] = {};
      }
      return this.states['brasil'] = {};
    },
    populate: function(year, state, terra_indigena, uc_sustentavel, uc_integral, assentamento, floresta, dominio, uc_sustentavel_estadual, uc_integral_estadual, assentamento_estadual, terra_arrecadada_estadual) {
      var self;
      if (state && year) {
        self = this.states[state];
        self[year] = {};
        self[year].terra_indigena = terra_indigena ? terra_indigena : 0;
        self[year].uc_sustentavel = uc_sustentavel;
        self[year].uc_integral = uc_integral;
        self[year].uc_sustentavel_estadual = uc_sustentavel_estadual;
        self[year].uc_integral_estadual = uc_integral_estadual;
        self[year].assentamento = assentamento;
        self[year].assentamento_estadual = assentamento_estadual;
        self[year].floresta = floresta;
        self[year].terra_arrecadada_estadual = terra_arrecadada_estadual;
        self[year].dominio = dominio;
        self[year].year = year;
        if (this.lastValue) {
          if (this.lastValue.year < self[year].year) {
            this.lastValue = self[year];
          }
        } else {
          this.lastValue = self[year];
        }
        self = this.states['brasil'];
        if (!self[year]) {
          self[year] = {};
          self[year].terra_indigena = 0;
          self[year].uc_sustentavel = 0;
          self[year].uc_integral = 0;
          self[year].uc_sustentavel_estadual = 0;
          self[year].uc_integral_estadual = 0;
          self[year].assentamento = 0;
          self[year].assentamento_estadual = 0;
          self[year].floresta = 0;
          self[year].terra_arrecadada_estadual = 0;
          self[year].dominio = 0;
          self[year].year = year;
        }
        self[year].terra_indigena += terra_indigena ? terra_indigena : 0;
        self[year].uc_sustentavel += uc_sustentavel;
        self[year].uc_integral += uc_integral;
        self[year].uc_sustentavel_estadual += uc_sustentavel_estadual;
        self[year].uc_integral_estadual += uc_integral_estadual;
        self[year].assentamento += assentamento;
        self[year].assentamento_estadual += assentamento_estadual;
        self[year].floresta += floresta;
        self[year].terra_arrecadada_estadual += terra_arrecadada_estadual;
        self[year].dominio += dominio;
      }
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.dado_prodes_consolidado.table
  });

  H5.DB.dado_prodes_consolidado.data.init();

  _ref5 = rest.data;
  for (i in _ref5) {
    properties = _ref5[i];
    H5.DB.dado_prodes_consolidado.data.populate(properties.ano, properties.uf, parseFloat(properties.terra_indigena), parseFloat(properties.unidades_de_conservacao_uso_sustentavel), parseFloat(properties.unidades_de_conservacao_protecao_integral), parseFloat(properties.assentamento), parseFloat(properties.floresta_publica), parseFloat(properties.dominio_estadual), parseFloat(properties.unidades_de_conservacao_uso_sustentavel_estadual), parseFloat(properties.unidades_de_conservacao_protecao_integral_estadual), parseFloat(properties.assentamento_estadual), parseFloat(properties.terra_arrecadada_estadual));
  }

  H5.DB.rankings.ranking_assentamento.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_assentamento.table
  });

  H5.DB.rankings.ranking_assentamento.data.init();

  _ref6 = rest.data;
  for (i in _ref6) {
    properties = _ref6[i];
    H5.DB.rankings.ranking_assentamento.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_assentamento);
  }

  H5.DB.rankings.ranking_assentamento_estadual.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_assentamento_estadual.table
  });

  H5.DB.rankings.ranking_assentamento_estadual.data.init();

  _ref7 = rest.data;
  for (i in _ref7) {
    properties = _ref7[i];
    H5.DB.rankings.ranking_assentamento_estadual.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_assentamento_estadual);
  }

  H5.DB.rankings.ranking_terra_indigena.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_terra_indigena.table
  });

  H5.DB.rankings.ranking_terra_indigena.data.init();

  _ref8 = rest.data;
  for (i in _ref8) {
    properties = _ref8[i];
    H5.DB.rankings.ranking_terra_indigena.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_terra_indigena);
  }

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral.table
  });

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral.data.init();

  _ref9 = rest.data;
  for (i in _ref9) {
    properties = _ref9[i];
    H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_unidades_de_conservacao_protecao_integral);
  }

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual.table
  });

  H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual.data.init();

  _ref10 = rest.data;
  for (i in _ref10) {
    properties = _ref10[i];
    H5.DB.rankings.ranking_unidades_de_conservacao_protecao_integral_estadual.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_unidades_de_conservacao_protecao_integral_estadual);
  }

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel.table
  });

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel.data.init();

  _ref11 = rest.data;
  for (i in _ref11) {
    properties = _ref11[i];
    H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_unidades_de_conservacao_uso_sustentavel);
  }

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual.data = {
    init: function() {
      return this.ranking = {};
    },
    populate: function(year, nome, area, id) {
      var self;
      self = this.ranking;
      self[id] = {};
      self[id].id = id;
      self[id].year = year;
      self[id].nome = nome;
      self[id].area = area;
    }
  };

  rest = new H5.Rest({
    url: H5.Data.restURL,
    table: H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual.table
  });

  H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual.data.init();

  _ref12 = rest.data;
  for (i in _ref12) {
    properties = _ref12[i];
    H5.DB.rankings.ranking_unidades_de_conservacao_uso_sustentavel_estadual.data.populate(properties.ano, properties.nome, parseFloat(properties.area), properties.id_ranking_unidades_de_conservacao_uso_sustentavel_estadual);
  }

  H5.Data.thisDate = H5.DB.diary.data.lastValue.date;

  H5.Data.thisDay = H5.DB.diary.data.lastValue.day;

  H5.Data.thisMonth = H5.DB.diary.data.lastValue.month;

  H5.Data.thisYear = H5.DB.diary.data.lastValue.year;

  H5.Data.thisProdesYear = H5.Data.thisMonth < 7 ? H5.Data.thisYear : H5.Data.thisYear + 1;

  H5.Data.selectedYear = H5.Data.thisYear;

  H5.Data.selectedMonth = H5.Data.thisMonth;

  H5.Data.selectedType = 'deter';

  H5.Data.totalPeriods = H5.Data.thisMonth < 7 ? H5.Data.thisDate.getFullYear() - 2005 : H5.Data.thisDate.getFullYear() - 2004;

  H5.Data.periods = new Array(H5.Data.totalPeriods);

  for (i = _j = 0, _ref13 = H5.Data.totalPeriods; 0 <= _ref13 ? _j <= _ref13 : _j >= _ref13; i = 0 <= _ref13 ? ++_j : --_j) {
    if (H5.Data.thisMonth < 7) {
      H5.Data.periods[i] = (H5.Data.thisDate.getFullYear() - i - 1) + "-" + (H5.Data.thisDate.getFullYear() - i);
    } else {
      H5.Data.periods[i] = (H5.Data.thisDate.getFullYear() - i) + "-" + (H5.Data.thisDate.getFullYear() - i + 1);
    }
  }

  chart1 = new H5.Charts.GoogleCharts({
    type: "Line",
    container: "chart1",
    title: "Alerta DETER: Índice Diário",
    buttons: {
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart1.drawChart = function() {
    var createTable, data, day, daysInMonth, firstPeriod, months, options, secondPeriod, state, _k, _l, _m;
    if (H5.Data.selectedType === 'deter') {
      createTable = (function(_this) {
        return function(state) {
          var day, key, reg, sum, _fn, _k, _ref14, _results;
          sum = 0;
          _results = [];
          for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
            _ref14 = H5.DB.diary.data.states[state];
            _fn = function(reg) {
              var _ref15;
              if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.day === day) {
                sum += reg.area;
                return false;
              }
            };
            for (key in _ref14) {
              reg = _ref14[key];
              _fn(reg);
            }
            _results.push(_this.data[0].setValue(day - 1, 1, Math.round((_this.data[0].getValue(day - 1, 1) + sum) * 100) / 100));
          }
          return _results;
        };
      })(this);
      this.createDataTable();
      this.data[0].addColumn("number", "Dia");
      this.data[0].addColumn("number", "Área");
      daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
      firstPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, 1);
      secondPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, daysInMonth);
      data = [];
      for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
        data[0] = day;
        data[1] = 0;
        this.data[0].addRow(data);
      }
      if (H5.Data.state === "brasil") {
        for (state in H5.DB.diary.data.states) {
          createTable(state);
        }
      } else {
        createTable(H5.Data.state);
      }
      months = {
        0: "Janeiro",
        1: "Fevereiro",
        2: "Março",
        3: "Abril",
        4: "Maio",
        5: "Junho",
        6: "Julho",
        7: "Agosto",
        8: "Setembro",
        9: "Outubro",
        10: "Novembro",
        11: "Dezembro"
      };
      this.changeTitle("Alerta DETER: Índice Diário [" + months[H5.Data.selectedMonth] + "]");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        legend: "none",
        chartArea: {
          width: "70%",
          height: "70%"
        },
        colors: ['#3ABCFC'],
        vAxis: {
          title: "Área km²"
        },
        hAxis: {
          title: "Dias",
          gridlines: {
            color: "#CCC",
            count: daysInMonth / 5
          }
        },
        animation: H5.Data.animate
      };
    } else if (H5.Data.selectedType === 'awifs') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart1",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Dia");
      this.data[0].addColumn("number", "Área");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      months = {
        0: "Janeiro",
        1: "Fevereiro",
        2: "Março",
        3: "Abril",
        4: "Maio",
        5: "Junho",
        6: "Julho",
        7: "Agosto",
        8: "Setembro",
        9: "Outubro",
        10: "Novembro",
        11: "Dezembro"
      };
      this.changeTitle("Alerta AWiFS: Índice Diário [" + months[H5.Data.selectedMonth] + "]");
      daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
      for (i = _l = 1; 1 <= daysInMonth ? _l <= daysInMonth : _l >= daysInMonth; i = 1 <= daysInMonth ? ++_l : --_l) {
        data = [i.toString()];
        if (rest.data[i]) {
          data[1] = rest.data[i];
        } else {
          data[1] = 0;
        }
        this.data[0].addRow(data);
      }
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart1",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_indicar.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Dia");
      this.data[0].addColumn("number", "Área");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      months = {
        0: "Janeiro",
        1: "Fevereiro",
        2: "Março",
        3: "Abril",
        4: "Maio",
        5: "Junho",
        6: "Julho",
        7: "Agosto",
        8: "Setembro",
        9: "Outubro",
        10: "Novembro",
        11: "Dezembro"
      };
      this.changeTitle("Alerta AWiFS: Índice Diário [" + months[H5.Data.selectedMonth] + "]");
      daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
      for (i = _m = 1; 1 <= daysInMonth ? _m <= daysInMonth : _m >= daysInMonth; i = 1 <= daysInMonth ? ++_m : --_m) {
        data = [i.toString()];
        if (rest.data[i]) {
          data[1] = rest.data[i];
        } else {
          data[1] = 0;
        }
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart2 = new H5.Charts.GoogleCharts({
    type: "Area",
    container: "chart2",
    period: 2,
    title: "Alerta DETER: Índice Mensal",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart2._addBtn.onclick = function() {
    chart2.options.period++;
    return chart2.drawChart();
  };

  chart2._delBtn.onclick = function() {
    chart2.options.period--;
    return chart2.drawChart();
  };

  chart2.drawChart = function() {
    var data, key, month, options, sumValues, val, _k, _l, _ref14, _ref15, _ref16, _ref17, _ref18;
    this.data = null;
    if (H5.Data.selectedType === 'deter') {
      sumValues = function(year, month) {
        var firstPeriod, key, name, reg, secondPeriod, state, sum, _ref14, _ref15, _ref16, _ref17;
        sum = 0;
        firstPeriod = new Date(year - 1, 7, 1);
        secondPeriod = new Date(year, 7, 0);
        if (H5.Data.state === "brasil") {
          _ref14 = H5.DB.diary.data.states;
          for (name in _ref14) {
            state = _ref14[name];
            for (key in state) {
              reg = state[key];
              if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.month === month) {
                sum += reg.area;
              }
            }
          }
        } else {
          _ref16 = H5.DB.diary.data.states[H5.Data.state];
          for (key in _ref16) {
            reg = _ref16[key];
            if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod) && reg.month === month) {
              sum += reg.area;
            }
          }
        }
        return Math.round(sum * 100) / 100;
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Mês");
      for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
        this.data[0].addColumn("number", H5.Data.periods[i]);
      }
      for (month in H5.Data.months) {
        data = [H5.Data.months[month]];
        month = parseInt(month);
        if ((7 <= (_ref15 = month + 7) && _ref15 <= 11)) {
          month += 7;
        } else {
          month -= 5;
        }
        for (i = _l = 1, _ref16 = this.options.period; 1 <= _ref16 ? _l <= _ref16 : _l >= _ref16; i = 1 <= _ref16 ? ++_l : --_l) {
          data[i] = sumValues(H5.Data.thisProdesYear - i + 1, month);
        }
        this.data[0].addRow(data);
      }
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this._addBtn.disabled = true;
      this._delBtn.disabled = true;
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods;
          return _this._delBtn.disabled = _this.options.period < 2;
        };
      })(this));
    } else if (H5.Data.selectedType === 'awifs') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart2",
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Mês");
      this.data[0].addColumn("number", "2011-2012");
      this.data[0].addColumn("number", "2012-2013");
      this.data[0].addColumn("number", "2013-2014");
      this.data[0].addColumn("number", "2014-2015");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Alerta AWiFS: Índice Mensal");
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = true;
          return _this._delBtn.disabled = true;
        };
      })(this));
      _ref17 = rest.data;
      for (key in _ref17) {
        val = _ref17[key];
        data = [H5.Data.months[key]];
        data[1] = val[0];
        data[2] = val[1];
        data[3] = val[2];
        data[4] = val[3];
        this.data[0].addRow(data);
      }
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart2",
        restService: "ws_geo_indicar.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Mês");
      this.data[0].addColumn("number", "2013-2014");
      this.data[0].addColumn("number", "2014-2015");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Alerta Indicar LANDSAT: Índice Mensal");
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = true;
          return _this._delBtn.disabled = true;
        };
      })(this));
      _ref18 = rest.data;
      for (key in _ref18) {
        val = _ref18[key];
        data = [H5.Data.months[key]];
        data[1] = val[0];
        data[2] = val[1];
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart3 = new H5.Charts.GoogleCharts({
    type: "Bar",
    container: "chart3",
    period: 1,
    title: "Alerta DETER: Índice Períodos",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart3._addBtn.onclick = function() {
    chart3.options.period++;
    return chart3.drawChart();
  };

  chart3._delBtn.onclick = function() {
    chart3.options.period--;
    return chart3.drawChart();
  };

  chart3.drawChart = function() {
    var data, options, sumAvg, sumAvgValues, sumTotal, sumTotalValues, sumValues, _k, _ref14;
    sumValues = function(firstPeriod, secondPeriod) {
      var key, name, reg, state, sum, _ref14, _ref15, _ref16, _ref17;
      sum = 0;
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.diary.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          for (key in state) {
            reg = state[key];
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
              sum += reg.area;
            }
          }
        }
      } else {
        _ref16 = H5.DB.diary.data.states[H5.Data.state];
        for (key in _ref16) {
          reg = _ref16[key];
          if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod)) {
            sum += reg.area;
          }
        }
      }
      return Math.round(sum * 100) / 100;
    };
    sumTotalValues = function(year) {
      var firstPeriod, secondPeriod;
      firstPeriod = new Date(year - 1, 7, 1);
      secondPeriod = new Date(year, 7, 0);
      return sumValues(firstPeriod, secondPeriod);
    };
    sumAvgValues = function(year) {
      var firstPeriod, month, secondPeriod;
      month = H5.Data.selectedMonth;
      firstPeriod = new Date(year - 1, 7, 1);
      if (month > 6) {
        if (month === H5.Data.thisMonth) {
          secondPeriod = new Date(year - 1, month, H5.Data.thisDay);
        } else {
          secondPeriod = new Date(year - 1, month + 1, 0);
        }
      } else {
        if (month === H5.Data.thisMonth) {
          secondPeriod = new Date(year, month, H5.Data.thisDay);
        } else {
          secondPeriod = new Date(year, month + 1, 0);
        }
      }
      return sumValues(firstPeriod, secondPeriod);
    };
    this.createDataTable();
    this.data[0].addColumn("string", "Ano");
    this.data[0].addColumn("number", "Parcial");
    this.data[0].addColumn("number", "Diferença");
    for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k <= _ref14 : _k >= _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
      data = [H5.Data.periods[i]];
      sumTotal = sumTotalValues(H5.Data.thisProdesYear - i);
      sumAvg = sumAvgValues(H5.Data.thisProdesYear - i);
      data[1] = sumAvg;
      data[2] = Math.round((sumTotal - sumAvg) * 100) / 100;
      this.data[0].addRow(data);
    }
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      focusTarget: "category",
      chartArea: {
        width: "68%",
        height: "76%"
      },
      colors: ['#3ABCFC', '#FC2121'],
      vAxis: {
        title: "Período PRODES"
      },
      hAxis: {
        title: "Área km²"
      },
      bar: {
        groupWidth: "80%"
      },
      isStacked: true,
      animation: H5.Data.animate
    };
    this._addBtn.disabled = true;
    this._delBtn.disabled = true;
    google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
      return function() {
        _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods - 1;
        return _this._delBtn.disabled = _this.options.period < 2;
      };
    })(this));
    return this.chart[0].draw(this.data[0], options);
  };

  chart4 = new H5.Charts.GoogleCharts({
    type: "Column",
    container: "chart4",
    period: 2,
    title: "Alerta DETER: UFs",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart4._addBtn.onclick = function() {
    chart4.options.period++;
    return chart4.drawChart();
  };

  chart4._delBtn.onclick = function() {
    chart4.options.period--;
    return chart4.drawChart();
  };

  chart4.drawChart = function() {
    var data, j, key, name, options, state, sumValues, val, _k, _l, _m, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19;
    if (H5.Data.selectedType === 'deter') {
      sumValues = function(state, year) {
        var firstPeriod, key, reg, secondPeriod, sum, _ref14, _ref15;
        sum = 0;
        firstPeriod = new Date(year - 1, 7, 1);
        secondPeriod = new Date(year, 7, 0);
        _ref14 = H5.DB.diary.data.states[state];
        for (key in _ref14) {
          reg = _ref14[key];
          if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
            sum += reg.area;
          }
        }
        return Math.round(sum * 100) / 100;
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
        this.data[0].addColumn("number", H5.Data.periods[i]);
      }
      if (H5.Data.state === "brasil") {
        _ref15 = H5.DB.diary.data.states;
        for (name in _ref15) {
          state = _ref15[name];
          data = [name];
          for (j = _l = 1, _ref16 = this.options.period; 1 <= _ref16 ? _l <= _ref16 : _l >= _ref16; j = 1 <= _ref16 ? ++_l : --_l) {
            data[j] = sumValues(name, H5.Data.thisProdesYear - j + 1);
          }
          this.data[0].addRow(data);
        }
      } else {
        data = [H5.Data.state];
        for (j = _m = 1, _ref17 = this.options.period; 1 <= _ref17 ? _m <= _ref17 : _m >= _ref17; j = 1 <= _ref17 ? ++_m : --_m) {
          data[j] = sumValues(H5.Data.state, H5.Data.thisProdesYear - j + 1);
        }
        this.data[0].addRow(data);
      }
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "76%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        bar: {
          groupWidth: "100%"
        },
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this._addBtn.disabled = true;
      this._delBtn.disabled = true;
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods;
          return _this._delBtn.disabled = _this.options.period < 2;
        };
      })(this));
    } else if (H5.Data.selectedType === 'awifs') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart4",
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "2011-2012");
      this.data[0].addColumn("number", "2012-2013");
      this.data[0].addColumn("number", "2013-2014");
      this.data[0].addColumn("number", "2014-2015");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Alerta AWiFS: UFs");
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = true;
          return _this._delBtn.disabled = true;
        };
      })(this));
      _ref18 = rest.data;
      for (key in _ref18) {
        val = _ref18[key];
        data = [key];
        data[1] = val[0];
        data[2] = val[1];
        data[3] = val[2];
        data[4] = val[3];
        this.data[0].addRow(data);
      }
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart4",
        restService: "ws_geo_indicar.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "2013-2014");
      this.data[0].addColumn("number", "2014-2015");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Alerta Indicar LANDSAT: UFs");
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._addBtn.disabled = true;
          return _this._delBtn.disabled = true;
        };
      })(this));
      _ref19 = rest.data;
      for (key in _ref19) {
        val = _ref19[key];
        data = [key];
        data[1] = val[0];
        data[2] = val[1];
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart5 = new H5.Charts.GoogleCharts({
    type: "Area",
    container: "chart5",
    title: "Taxa PRODES|Alerta DETER: Acumulado Períodos",
    buttons: {
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart5.drawChart = function() {
    var data, key, options, sumDeter, sumProdes, val, _ref14;
    this.data = null;
    if (H5.Data.selectedType === 'deter') {
      sumDeter = function(year) {
        var firstPeriod, key, name, reg, secondPeriod, state, sum, _ref14, _ref15, _ref16, _ref17;
        sum = 0;
        firstPeriod = new Date(year - 1, 7, 1);
        secondPeriod = new Date(year, 7, 0);
        if (H5.Data.state === "brasil") {
          _ref14 = H5.DB.diary.data.states;
          for (name in _ref14) {
            state = _ref14[name];
            for (key in state) {
              reg = state[key];
              if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
                sum += reg.area;
              }
            }
          }
        } else {
          _ref16 = H5.DB.diary.data.states[H5.Data.state];
          for (key in _ref16) {
            reg = _ref16[key];
            if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod)) {
              sum += reg.area;
            }
          }
        }
        if (sum >= 0) {
          return Math.round(sum * 100) / 100;
        }
      };
      sumProdes = function(period) {
        var name, state, sum, _ref14;
        sum = 0;
        if (H5.Data.state === "brasil") {
          _ref14 = H5.DB.prodes.data.states;
          for (name in _ref14) {
            state = _ref14[name];
            sum += state[period].area;
          }
        } else {
          sum = H5.DB.prodes.data.states[H5.Data.state][period].area;
        }
        if (sum >= 0) {
          return sum;
        }
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Ano");
      this.data[0].addColumn("number", "Alerta DETER");
      this.data[0].addColumn("number", "Taxa PRODES");
      i = H5.Data.totalPeriods;
      while (i >= 0) {
        data = [H5.Data.periods[i]];
        data[1] = sumDeter(H5.Data.thisProdesYear - i);
        data[2] = sumProdes(H5.Data.periods[i]);
        this.data[0].addRow(data);
        i--;
      }
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "70%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#D0FC3F'],
        vAxis: {
          title: "Área km²"
        },
        hAxis: {
          title: "Período PRODES"
        },
        animation: H5.Data.animate
      };
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart5",
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Ano");
      this.data[0].addColumn("number", "Alerta AWiFS");
      this.data[0].addColumn("number", "Taxa PRODES");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Taxa PRODES|Alerta AWiFS: Acumulado Períodos");
      _ref14 = rest.data;
      for (key in _ref14) {
        val = _ref14[key];
        data = [key];
        data[1] = val[0];
        data[2] = val[1];
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart6 = new H5.Charts.GoogleCharts({
    type: "Column",
    container: "chart6",
    period: 1,
    title: "Taxa PRODES|Alerta DETER: UFs",
    buttons: {
      "export": true,
      table: true,
      minimize: true,
      maximize: true,
      arrows: true
    }
  });

  chart6.changeTitle(H5.Data.periods[chart6.options.period]);

  chart6._leftBtn.onclick = function() {
    chart6.options.period++;
    return chart6.drawChart();
  };

  chart6._rightBtn.onclick = function() {
    chart6.options.period--;
    return chart6.drawChart();
  };

  chart6.drawChart = function() {
    var data, key, name, options, state, sumDeter, sumProdes, val, _ref14, _ref15;
    if (H5.Data.selectedType === 'deter') {
      sumDeter = function(state, year) {
        var firstPeriod, key, reg, secondPeriod, sum, _ref14, _ref15;
        sum = 0;
        firstPeriod = new Date(year - 1, 7, 1);
        secondPeriod = new Date(year, 7, 0);
        _ref14 = H5.DB.diary.data.states[state];
        for (key in _ref14) {
          reg = _ref14[key];
          if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
            sum += reg.area;
          }
        }
        return Math.round(sum * 100) / 100;
      };
      sumProdes = function(state, year) {
        var key, period, reg, sum, _ref14;
        sum = 0;
        period = (year - 1) + "-" + year;
        _ref14 = H5.DB.prodes.data.states[state];
        for (key in _ref14) {
          reg = _ref14[key];
          if (key === period) {
            if (reg.area != null) {
              sum += reg.area;
            }
          }
        }
        return Math.round(sum * 100) / 100;
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "Alerta DETER");
      this.data[0].addColumn("number", "Taxa PRODES");
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.diary.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          data = [name];
          data[1] = sumDeter(name, H5.Data.thisProdesYear - this.options.period);
          data[2] = sumProdes(name, H5.Data.thisProdesYear - this.options.period);
          this.data[0].addRow(data);
        }
      } else {
        data = [H5.Data.state];
        data[1] = sumDeter(H5.Data.state, H5.Data.thisProdesYear - this.options.period);
        data[2] = sumProdes(H5.Data.state, H5.Data.thisProdesYear - this.options.period);
        this.data[0].addRow(data);
      }
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "70%",
          height: "76%"
        },
        colors: ['#3ABCFC', '#D0FC3F'],
        bar: {
          groupWidth: "100%"
        },
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Taxa PRODES|Alerta DETER: UFs [" + H5.Data.periods[this.options.period] + "]");
      this._rightBtn.disabled = true;
      this._leftBtn.disabled = true;
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._rightBtn.disabled = _this.options.period < 2;
          return _this._leftBtn.disabled = _this.options.period >= H5.Data.totalPeriods;
        };
      })(this));
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart6",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "Alerta AWiFS");
      this.data[0].addColumn("number", "Taxa PRODES");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle("Taxa PRODES|Alerta AWiFS: UFs");
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._rightBtn.disabled = true;
          return _this._leftBtn.disabled = true;
        };
      })(this));
      _ref15 = rest.data;
      for (key in _ref15) {
        val = _ref15[key];
        data = [key];
        data[1] = val[0];
        data[2] = val[1];
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart7 = new H5.Charts.GoogleCharts({
    type: "Pie",
    container: "chart7",
    period: 0,
    buttons: {
      arrows: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart7.changeTitle(H5.Data.periods[chart7.options.period]);

  chart7._leftBtn.onclick = function() {
    chart7.options.period++;
    return chart7.drawChart();
  };

  chart7._rightBtn.onclick = function() {
    chart7.options.period--;
    return chart7.drawChart();
  };

  chart7.drawChart = function() {
    var data, estado, key, options, sumValues, title, val, _k, _ref14, _ref15, _ref16;
    if (H5.Data.selectedType === 'deter') {
      sumValues = function(state, year) {
        var firstPeriod, key, reg, secondPeriod, sum, _ref14, _ref15;
        sum = 0;
        firstPeriod = new Date(year - 1, 7, 1);
        secondPeriod = new Date(year, 7, 0);
        _ref14 = H5.DB.diary.data.states[state];
        for (key in _ref14) {
          reg = _ref14[key];
          if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
            sum += reg.area;
          }
        }
        return Math.round(sum * 100) / 100;
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Mês");
      this.data[0].addColumn("number", H5.Data.periods[this.options.period]);
      for (i = _k = 0, _ref14 = H5.Data.states.length; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
        estado = H5.Data.states[i];
        data = [estado];
        data[1] = sumValues(H5.Data.states[i], H5.Data.thisProdesYear - this.options.period);
        this.data[0].addRow(data);
      }
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        chartArea: {
          width: "90%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        backgroundColor: "transparent"
      };
      this.changeTitle(H5.Data.periods[this.options.period]);
      this._rightBtn.disabled = true;
      this._leftBtn.disabled = true;
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._rightBtn.disabled = _this.options.period < 1;
          return _this._leftBtn.disabled = _this.options.period >= H5.Data.totalPeriods;
        };
      })(this));
    } else if (H5.Data.selectedType === 'awifs') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart7",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      title = "";
      if (H5.Data.selectedMonth <= 6) {
        title = (H5.Data.selectedYear - 1) + "-" + H5.Data.selectedYear;
      } else {
        title = H5.Data.selectedYear + "-" + (H5.Data.selectedYear + 1);
      }
      this.data[0].addColumn("string", "Mês");
      this.data[0].addColumn("number", title);
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle(title);
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._rightBtn.disabled = true;
          return _this._leftBtn.disabled = true;
        };
      })(this));
      _ref15 = rest.data;
      for (key in _ref15) {
        val = _ref15[key];
        data = [key];
        data[1] = val[0];
        this.data[0].addRow(data);
      }
    } else {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart7",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_indicar.php"
      });
      this.createDataTable();
      title = "";
      if (H5.Data.selectedMonth <= 6) {
        title = (H5.Data.selectedYear - 1) + "-" + H5.Data.selectedYear;
      } else {
        title = H5.Data.selectedYear + "-" + (H5.Data.selectedYear + 1);
      }
      this.data[0].addColumn("string", "Mês");
      this.data[0].addColumn("number", title);
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      this.changeTitle(title);
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {
          _this._rightBtn.disabled = true;
          return _this._leftBtn.disabled = true;
        };
      })(this));
      _ref16 = rest.data;
      for (key in _ref16) {
        val = _ref16[key];
        data = [key];
        data[1] = val[0];
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart8 = new H5.Charts.GoogleCharts({
    type: "Pie",
    container: "chart8",
    period: 1,
    buttons: {
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart8.drawChart = function() {
    var data, daysInMonth, estado, firstPeriod, key, months, options, pieText, pieTooltip, secondPeriod, sumValues, val, _k, _ref14, _ref15, _ref16;
    if (H5.Data.selectedType === 'deter') {
      sumValues = function(state) {
        var key, reg, sum, _ref14, _ref15;
        sum = 0;
        _ref14 = H5.DB.diary.data.states[state];
        for (key in _ref14) {
          reg = _ref14[key];
          if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
            sum += reg.area;
          }
        }
        if (firstPeriod > H5.Data.thisDate) {
          return 1;
        } else {
          return Math.round(sum * 100) / 100;
        }
      };
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "Área Total");
      daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
      firstPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, 1);
      secondPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, daysInMonth);
      if (firstPeriod > H5.Data.thisDate) {
        pieText = "none";
        pieTooltip = "none";
      } else {
        pieText = "percent";
        pieTooltip = "focus";
      }
      for (i = _k = 0, _ref14 = H5.Data.states.length; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
        estado = H5.Data.states[i];
        data = [estado];
        data[1] = sumValues(H5.Data.states[i]);
        this.data[0].addRow(data);
      }
      this.changeTitle(selectMonths.options[H5.Data.selectedMonth].label + ", " + H5.Data.selectedYear);
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        pieSliceText: pieText,
        tooltip: {
          trigger: pieTooltip
        },
        chartArea: {
          width: "90%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        bar: {
          groupWidth: "100%"
        },
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
    } else if (H5.Data.selectedType === 'awifs') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart8",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_awifs.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "Área Total");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      months = {
        0: "Jan",
        1: "Fev",
        2: "Mar",
        3: "Abr",
        4: "Mai",
        5: "Jun",
        6: "Jul",
        7: "Ago",
        8: "Set",
        9: "Out",
        10: "Nov",
        11: "Dez"
      };
      this.changeTitle(months[H5.Data.selectedMonth] + ", " + H5.Data.selectedYear);
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {};
      })(this));
      _ref15 = rest.data;
      for (key in _ref15) {
        val = _ref15[key];
        data = [key];
        data[1] = val;
        this.data[0].addRow(data);
      }
    } else if (H5.Data.selectedType === 'indicar') {
      rest = new H5.Rest({
        url: H5.Data.restURL,
        parameters: "chart8",
        ano: H5.Data.selectedYear,
        mes: H5.Data.selectedMonth,
        restService: "ws_geo_indicar.php"
      });
      this.createDataTable();
      this.data[0].addColumn("string", "Estado");
      this.data[0].addColumn("number", "Área Total");
      options = {
        title: "",
        titleTextStyle: {
          color: "#333",
          fontSize: 13
        },
        backgroundColor: "transparent",
        focusTarget: "category",
        chartArea: {
          width: "67%",
          height: "80%"
        },
        colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
        vAxis: {
          title: "Área km²"
        },
        animation: H5.Data.animate
      };
      months = {
        0: "Jan",
        1: "Fev",
        2: "Mar",
        3: "Abr",
        4: "Mai",
        5: "Jun",
        6: "Jul",
        7: "Ago",
        8: "Set",
        9: "Out",
        10: "Nov",
        11: "Dez"
      };
      this.changeTitle(months[H5.Data.selectedMonth] + ", " + H5.Data.selectedYear);
      google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
        return function() {};
      })(this));
      _ref16 = rest.data;
      for (key in _ref16) {
        val = _ref16[key];
        data = [key];
        data[1] = val;
        this.data[0].addRow(data);
      }
    }
    return this.chart[0].draw(this.data[0], options);
  };

  chart9 = new H5.Charts.GoogleCharts({
    type: "Line",
    container: "chart9",
    period: 2,
    title: "Alerta DETER: Taxa(%) de Nuvens",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chart9._addBtn.onclick = function() {
    chart9.options.period++;
    return chart9.drawChart();
  };

  chart9._delBtn.onclick = function() {
    chart9.options.period--;
    return chart9.drawChart();
  };

  chart9.drawChart = function() {
    var data, month, options, sumValues, _k, _l, _ref14, _ref15, _ref16;
    sumValues = function(year, month) {
      var firstPeriod, key, maxDate, percent, reg, secondPeriod, _fn, _ref14;
      percent = 0;
      firstPeriod = new Date(year - 1, 7, 1);
      secondPeriod = new Date(year, 7, 0);
      maxDate = firstPeriod;
      _ref14 = H5.DB.cloud.data.nuvem;
      _fn = function(reg) {
        if (reg.date >= firstPeriod && reg.date <= secondPeriod && reg.month === month) {
          if (reg.date >= maxDate) {
            maxDate = reg.date;
            percent = reg.value;
            return false;
          }
        }
      };
      for (key in _ref14) {
        reg = _ref14[key];
        _fn(reg);
      }
      return Math.round(percent * 100);
    };
    this.createDataTable();
    this.data[0].addColumn("string", "Mês");
    for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
      this.data[0].addColumn("number", H5.Data.periods[i]);
    }
    for (month in H5.Data.months) {
      data = [H5.Data.months[month]];
      month = parseInt(month);
      if ((7 <= (_ref15 = month + 7) && _ref15 <= 11)) {
        month += 7;
      } else {
        month -= 5;
      }
      for (i = _l = 1, _ref16 = this.options.period; 1 <= _ref16 ? _l <= _ref16 : _l >= _ref16; i = 1 <= _ref16 ? ++_l : --_l) {
        data[i] = sumValues(H5.Data.thisProdesYear - i + 1, month);
      }
      this.data[0].addRow(data);
    }
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      focusTarget: "category",
      chartArea: {
        width: "67%",
        height: "80%"
      },
      colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
      vAxis: {
        title: "Porcentagem"
      },
      animation: H5.Data.animate
    };
    this._addBtn.disabled = true;
    this._delBtn.disabled = true;
    google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
      return function() {
        _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods - 4;
        return _this._delBtn.disabled = _this.options.period < 2;
      };
    })(this));
    return this.chart[0].draw(this.data[0], options);
  };

  lastSelectedRegion = "";

  $("#quick2 a").on("click", function(e) {
    e.preventDefault();
    if (H5.Data.state2 === this.id) {
      return;
    }
    H5.Data.state2 = this.id;
    $(this).each(function() {
      return $("a").removeClass("active");
    });
    return $(this).addClass("active");
  });

  spark1 = new H5.Charts.Sparks({
    container: "spark1",
    title: "Total Mensal"
  });

  spark1.drawChart = function() {
    var createTable, data, day, daysInMonth, firstPeriod, name, secondPeriod, state, value, _k, _ref14;
    createTable = (function(_this) {
      return function(state) {
        var day, dayValue, key, reg, _fn, _k, _ref14, _results;
        dayValue = 0;
        _results = [];
        for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
          _ref14 = H5.DB.diary.data.states[state];
          _fn = function(reg) {
            var _ref15;
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.day === day) {
              dayValue += reg.area;
              return false;
            }
          };
          for (key in _ref14) {
            reg = _ref14[key];
            _fn(reg);
          }
          _results.push(data[day - 1] = Math.round((data[day - 1] + dayValue) * 100) / 100);
        }
        return _results;
      };
    })(this);
    daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
    firstPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, 1);
    secondPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, daysInMonth);
    data = [];
    for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
      data[day - 1] = 0;
    }
    if (H5.Data.state === "brasil") {
      _ref14 = H5.DB.diary.data.states;
      for (name in _ref14) {
        state = _ref14[name];
        createTable(name);
      }
    } else {
      createTable(H5.Data.state);
    }
    value = data[daysInMonth - 1];
    return this.updateInfo(data, value);
  };

  spark2 = new H5.Charts.Sparks({
    container: "spark2",
    title: "Total Período"
  });

  spark2.drawChart = function() {
    var count, data, month, sumValues, value, year, _ref14;
    sumValues = function(year, month) {
      var firstPeriod, key, name, reg, secondPeriod, state, sum, _ref14, _ref15, _ref16, _ref17;
      sum = 0;
      firstPeriod = new Date(year - 1, 7, 1);
      if (month > 6) {
        secondPeriod = new Date(year - 1, month + 1, 0);
      } else if (month !== H5.Data.thisMonth) {
        secondPeriod = new Date(year, month + 1, 0);
      } else {
        secondPeriod = new Date(year, month, H5.Data.thisDay);
      }
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.diary.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          for (key in state) {
            reg = state[key];
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.month === month) {
              sum += reg.area;
            }
          }
        }
      } else {
        _ref16 = H5.DB.diary.data.states[H5.Data.state];
        for (key in _ref16) {
          reg = _ref16[key];
          if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod) && reg.month === month) {
            sum += reg.area;
          }
        }
      }
      return Math.round(sum * 100) / 100;
    };
    data = [];
    for (month in H5.Data.months) {
      month = parseInt(month);
      year = H5.Data.selectedMonth < 7 ? H5.Data.selectedYear : H5.Data.selectedYear + 1;
      count = parseInt(H5.Data.selectedMonth);
      if (count >= 7) {
        count -= 7;
      } else {
        count += 5;
      }
      if (month <= count) {
        if ((7 <= (_ref14 = month + 7) && _ref14 <= 11)) {
          month += 7;
        } else {
          month -= 5;
        }
        data.push(sumValues(year, month));
      } else {
        data.push(0);
      }
    }
    value = 0;
    $.each(data, function() {
      return value += this;
    });
    return this.updateInfo(data, Math.round(value * 100) / 100);
  };

  knob1 = new H5.Charts.Knobs({
    container: "knob1",
    title: "Taxa VAA",
    popover: "Taxa de variação em relação ao mesmo mês do ano anterior"
  });

  knob1.drawChart = function() {
    var periodDeforesttionRate, value;
    periodDeforesttionRate = function(year, month) {
      var curDate, curValue, preDate, preValue, sumValues;
      sumValues = function(date) {
        var reg, state, sum, _ref14, _ref15;
        sum = 0;
        if (H5.Data.state === "brasil") {
          for (state in H5.DB.diary.data.states) {
            for (reg in H5.DB.diary.data.states[state]) {
              reg = H5.DB.diary.data.states[state][reg];
              if ((date.getFullYear() <= (_ref14 = reg.year) && _ref14 <= date.getFullYear()) && reg.month === date.getMonth()) {
                sum += reg.area;
              }
            }
          }
        } else {
          for (reg in H5.DB.diary.data.states[H5.Data.state]) {
            reg = H5.DB.diary.data.states[H5.Data.state][reg];
            if ((date.getFullYear() <= (_ref15 = reg.year) && _ref15 <= date.getFullYear()) && reg.month === date.getMonth()) {
              sum += reg.area;
            }
          }
        }
        return sum;
      };
      curDate = new Date(year, month);
      preDate = new Date(year - 1, month);
      curValue = sumValues(curDate);
      preValue = sumValues(preDate);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  knob2 = new H5.Charts.Knobs({
    container: "knob2",
    title: "Taxa VMA",
    popover: "Taxa de variação em relação ao mês anterior"
  });

  knob2.drawChart = function() {
    var periodDeforesttionRate, value;
    periodDeforesttionRate = function(year, month) {
      var curDate, curValue, preDate, preValue, sumValues;
      sumValues = function(date) {
        var reg, state, sum, _ref14, _ref15;
        sum = 0;
        if (H5.Data.state === "brasil") {
          for (state in H5.DB.diary.data.states) {
            for (reg in H5.DB.diary.data.states[state]) {
              reg = H5.DB.diary.data.states[state][reg];
              if ((date.getFullYear() <= (_ref14 = reg.year) && _ref14 <= date.getFullYear()) && reg.month === date.getMonth()) {
                sum += reg.area;
              }
            }
          }
        } else {
          for (reg in H5.DB.diary.data.states[H5.Data.state]) {
            reg = H5.DB.diary.data.states[H5.Data.state][reg];
            if ((date.getFullYear() <= (_ref15 = reg.year) && _ref15 <= date.getFullYear()) && reg.month === date.getMonth()) {
              sum += reg.area;
            }
          }
        }
        return sum;
      };
      curDate = new Date(year, month);
      preDate = new Date(year, month - 1);
      curValue = sumValues(curDate);
      preValue = sumValues(preDate);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  knob3 = new H5.Charts.Knobs({
    container: "knob3",
    title: "Taxa VPA",
    popover: "Taxa de variação em relação ao período PRODES anterior"
  });

  knob3.drawChart = function() {
    var periodDeforesttionAvgRate, value;
    periodDeforesttionAvgRate = function(year, month) {
      var curValue, preValue, sumPeriods, sumValues;
      sumValues = function(firstPeriod, secondPeriod) {
        var key, name, reg, state, sum, _ref14, _ref15, _ref16, _ref17;
        sum = 0;
        if (H5.Data.state === "brasil") {
          _ref14 = H5.DB.diary.data.states;
          for (name in _ref14) {
            state = _ref14[name];
            for (key in state) {
              reg = state[key];
              if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
                sum += reg.area;
              }
            }
          }
        } else {
          _ref16 = H5.DB.diary.data.states[H5.Data.state];
          for (key in _ref16) {
            reg = _ref16[key];
            if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod)) {
              sum += reg.area;
            }
          }
        }
        return Math.round(sum * 100) / 100;
      };
      if (month > 6) {
        year++;
      } else {
        year;
      }
      sumPeriods = function(year, month) {
        var firstPeriod, secondPeriod;
        firstPeriod = new Date(year - 1, 7, 1);
        if (month > 6) {
          if (month === H5.Data.thisMonth) {
            secondPeriod = new Date(year - 1, month + 1, 1 - 1);
          } else {
            secondPeriod = new Date(year - 1, month + 1, 0);
          }
        } else {
          if (month === H5.Data.thisMonth) {
            secondPeriod = new Date(year, month + 1, 1 - 1);
          } else {
            secondPeriod = new Date(year, month + 1, 0);
          }
        }
        return sumValues(firstPeriod, secondPeriod);
      };
      curValue = sumPeriods(year, month);
      preValue = sumPeriods(year - 1, month);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionAvgRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  chartDailyEmbargo = new H5.Charts.GoogleCharts({
    type: "Line",
    container: "chart-daily-embargo",
    title: "Embargos: Índice Diário",
    buttons: {
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chartDailyEmbargo.drawChart = function() {
    var createTable, data, day, daysInMonth, firstPeriod, months, name, options, secondPeriod, _k;
    createTable = (function(_this) {
      return function(state) {
        var day, key, reg, sum, _fn, _k, _ref14, _results;
        sum = 0;
        _results = [];
        for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
          _ref14 = H5.DB.embargo.data.states[state];
          _fn = function(reg) {
            var _ref15;
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.day === day) {
              sum += reg.area;
              return false;
            }
          };
          for (key in _ref14) {
            reg = _ref14[key];
            _fn(reg);
          }
          _results.push(_this.data[0].setValue(day - 1, 1, Math.round((_this.data[0].getValue(day - 1, 1) + sum) * 100) / 100));
        }
        return _results;
      };
    })(this);
    this.createDataTable();
    this.data[0].addColumn("number", "Dia");
    this.data[0].addColumn("number", "Área");
    daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
    firstPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, 1);
    secondPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, daysInMonth);
    data = [];
    for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
      data[0] = day;
      data[1] = 0;
      this.data[0].addRow(data);
    }
    if (H5.Data.state === "brasil") {
      for (name in H5.DB.embargo.data.states) {
        createTable(name);
      }
    } else {
      createTable(H5.Data.state);
    }
    months = {
      0: "Janeiro",
      1: "Fevereiro",
      2: "Março",
      3: "Abril",
      4: "Maio",
      5: "Junho",
      6: "Julho",
      7: "Agosto",
      8: "Setembro",
      9: "Outubro",
      10: "Novembro",
      11: "Dezembro"
    };
    this.changeTitle("Embargos: Índice Diário [" + months[H5.Data.selectedMonth] + "]");
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      legend: "none",
      chartArea: {
        width: "70%",
        height: "70%"
      },
      colors: ['#3ABCFC'],
      vAxis: {
        title: "Área km²"
      },
      hAxis: {
        title: "Dias",
        gridlines: {
          color: "#CCC",
          count: daysInMonth / 5
        }
      },
      animation: H5.Data.animate
    };
    return this.chart[0].draw(this.data[0], options);
  };

  chartMonthlyEmbargo = new H5.Charts.GoogleCharts({
    type: "Area",
    container: "chart-monthly-embargo",
    period: 2,
    title: "Embargos: Índice Mensal",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chartMonthlyEmbargo._addBtn.onclick = function() {
    chartMonthlyEmbargo.options.period++;
    return chartMonthlyEmbargo.drawChart();
  };

  chartMonthlyEmbargo._delBtn.onclick = function() {
    chartMonthlyEmbargo.options.period--;
    return chartMonthlyEmbargo.drawChart();
  };

  chartMonthlyEmbargo.drawChart = function() {
    var data, month, options, sumValues, _k, _l, _ref14, _ref15, _ref16;
    sumValues = function(year, month) {
      var firstPeriod, key, name, reg, secondPeriod, state, sum, _ref14, _ref15, _ref16, _ref17;
      sum = 0;
      firstPeriod = new Date(year - 1, 7, 1);
      secondPeriod = new Date(year, 7, 0);
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.embargo.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          for (key in state) {
            reg = state[key];
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.month === month) {
              sum += reg.area;
            }
          }
        }
      } else {
        _ref16 = H5.DB.embargo.data.states[H5.Data.state];
        for (key in _ref16) {
          reg = _ref16[key];
          if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod) && reg.month === month) {
            sum += reg.area;
          }
        }
      }
      return Math.round(sum * 100) / 100;
    };
    this.createDataTable();
    this.data[0].addColumn("string", "Mês");
    for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
      this.data[0].addColumn("number", H5.Data.periods[i]);
    }
    for (month in H5.Data.months) {
      data = [H5.Data.months[month]];
      month = parseInt(month);
      if ((7 <= (_ref15 = month + 7) && _ref15 <= 11)) {
        month += 7;
      } else {
        month -= 5;
      }
      for (i = _l = 1, _ref16 = this.options.period; 1 <= _ref16 ? _l <= _ref16 : _l >= _ref16; i = 1 <= _ref16 ? ++_l : --_l) {
        data[i] = sumValues(H5.Data.thisProdesYear - i + 1, month);
      }
      this.data[0].addRow(data);
    }
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      focusTarget: "category",
      chartArea: {
        width: "70%",
        height: "80%"
      },
      colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
      vAxis: {
        title: "Área km²"
      },
      animation: H5.Data.animate
    };
    this._addBtn.disabled = true;
    this._delBtn.disabled = true;
    google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
      return function() {
        _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods;
        return _this._delBtn.disabled = _this.options.period < 2;
      };
    })(this));
    return this.chart[0].draw(this.data[0], options);
  };

  chartAnnualEmbargo = new H5.Charts.GoogleCharts({
    type: "Bar",
    container: "chart-annual-embargo",
    period: 1,
    title: "Embargos: Índice Períodos",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chartAnnualEmbargo._addBtn.onclick = function() {
    chartAnnualEmbargo.options.period++;
    return chartAnnualEmbargo.drawChart();
  };

  chartAnnualEmbargo._delBtn.onclick = function() {
    chartAnnualEmbargo.options.period--;
    return chartAnnualEmbargo.drawChart();
  };

  chartAnnualEmbargo.drawChart = function() {
    var data, options, sumAvg, sumAvgValues, sumTotal, sumTotalValues, sumValues, _k, _ref14;
    sumValues = function(firstPeriod, secondPeriod) {
      var key, name, reg, state, sum, _ref14, _ref15, _ref16, _ref17;
      sum = 0;
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.embargo.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          for (key in state) {
            reg = state[key];
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
              sum += reg.area;
            }
          }
        }
      } else {
        _ref16 = H5.DB.embargo.data.states[H5.Data.state];
        for (key in _ref16) {
          reg = _ref16[key];
          if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod)) {
            sum += reg.area;
          }
        }
      }
      return Math.round(sum * 100) / 100;
    };
    sumTotalValues = function(year) {
      var firstPeriod, secondPeriod;
      firstPeriod = new Date(year - 1, 7, 1);
      secondPeriod = new Date(year, 7, 0);
      return sumValues(firstPeriod, secondPeriod);
    };
    sumAvgValues = function(year) {
      var firstPeriod, month, secondPeriod;
      month = H5.Data.selectedMonth;
      firstPeriod = new Date(year - 1, 7, 1);
      if (month > 6) {
        if (month === H5.Data.thisMonth) {
          secondPeriod = new Date(year - 1, month, H5.Data.thisDay);
        } else {
          secondPeriod = new Date(year - 1, month + 1, 0);
        }
      } else {
        if (month === H5.Data.thisMonth) {
          secondPeriod = new Date(year, month, H5.Data.thisDay);
        } else {
          secondPeriod = new Date(year, month + 1, 0);
        }
      }
      return sumValues(firstPeriod, secondPeriod);
    };
    this.createDataTable();
    this.data[0].addColumn("string", "Ano");
    this.data[0].addColumn("number", "Parcial");
    this.data[0].addColumn("number", "Diferença");
    for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k <= _ref14 : _k >= _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
      data = [H5.Data.periods[i]];
      sumTotal = sumTotalValues(H5.Data.thisProdesYear - i);
      sumAvg = sumAvgValues(H5.Data.thisProdesYear - i);
      data[1] = sumAvg;
      data[2] = Math.round((sumTotal - sumAvg) * 100) / 100;
      this.data[0].addRow(data);
    }
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      focusTarget: "category",
      chartArea: {
        width: "68%",
        height: "76%"
      },
      colors: ['#3ABCFC', '#FC2121'],
      vAxis: {
        title: "Período PRODES"
      },
      hAxis: {
        title: "Área km²"
      },
      bar: {
        groupWidth: "80%"
      },
      isStacked: true,
      animation: H5.Data.animate
    };
    this._addBtn.disabled = true;
    this._delBtn.disabled = true;
    google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
      return function() {
        _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods - 1;
        return _this._delBtn.disabled = _this.options.period < 2;
      };
    })(this));
    return this.chart[0].draw(this.data[0], options);
  };

  chartStatesEmbargo = new H5.Charts.GoogleCharts({
    type: "Column",
    container: "chart-states-embargo",
    period: 2,
    title: "Embargos: UFs",
    buttons: {
      minusplus: true,
      "export": true,
      table: true,
      minimize: true,
      maximize: true
    }
  });

  chartStatesEmbargo._addBtn.onclick = function() {
    chartStatesEmbargo.options.period++;
    return chartStatesEmbargo.drawChart();
  };

  chartStatesEmbargo._delBtn.onclick = function() {
    chartStatesEmbargo.options.period--;
    return chartStatesEmbargo.drawChart();
  };

  chartStatesEmbargo.drawChart = function() {
    var data, j, name, options, state, sumValues, _k, _l, _m, _ref14, _ref15, _ref16, _ref17;
    sumValues = function(state, year) {
      var firstPeriod, key, reg, secondPeriod, sum, _ref14, _ref15;
      sum = 0;
      firstPeriod = new Date(year - 1, 7, 1);
      secondPeriod = new Date(year, 7, 0);
      _ref14 = H5.DB.embargo.data.states[state];
      for (key in _ref14) {
        reg = _ref14[key];
        if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
          sum += reg.area;
        }
      }
      return Math.round(sum * 100) / 100;
    };
    this.createDataTable();
    this.data[0].addColumn("string", "Estado");
    for (i = _k = 0, _ref14 = this.options.period; 0 <= _ref14 ? _k < _ref14 : _k > _ref14; i = 0 <= _ref14 ? ++_k : --_k) {
      this.data[0].addColumn("number", H5.Data.periods[i]);
    }
    if (H5.Data.state === "brasil") {
      _ref15 = H5.DB.embargo.data.states;
      for (name in _ref15) {
        state = _ref15[name];
        data = [name];
        for (j = _l = 1, _ref16 = this.options.period; 1 <= _ref16 ? _l <= _ref16 : _l >= _ref16; j = 1 <= _ref16 ? ++_l : --_l) {
          data[j] = sumValues(name, H5.Data.thisProdesYear - j + 1);
        }
        this.data[0].addRow(data);
      }
    } else {
      data = [H5.Data.state];
      for (j = _m = 1, _ref17 = this.options.period; 1 <= _ref17 ? _m <= _ref17 : _m >= _ref17; j = 1 <= _ref17 ? ++_m : --_m) {
        data[j] = sumValues(H5.Data.state, H5.Data.thisProdesYear - j + 1);
      }
      this.data[0].addRow(data);
    }
    options = {
      title: "",
      titleTextStyle: {
        color: "#333",
        fontSize: 13
      },
      backgroundColor: "transparent",
      focusTarget: "category",
      chartArea: {
        width: "70%",
        height: "76%"
      },
      colors: ['#3ABCFC', '#FC2121', '#D0FC3F', '#FCAC0A', '#67C2EF', '#FF5454', '#CBE968', '#FABB3D', '#77A4BD', '#CC6C6C', '#A6B576', '#C7A258'],
      bar: {
        groupWidth: "100%"
      },
      vAxis: {
        title: "Área km²"
      },
      animation: H5.Data.animate
    };
    this._addBtn.disabled = true;
    this._delBtn.disabled = true;
    google.visualization.events.addListener(this.chart[0], "ready", (function(_this) {
      return function() {
        _this._addBtn.disabled = _this.options.period > H5.Data.totalPeriods;
        return _this._delBtn.disabled = _this.options.period < 2;
      };
    })(this));
    return this.chart[0].draw(this.data[0], options);
  };

  sparkTVAAEmbargo = new H5.Charts.Knobs({
    container: "spark-tvaa-embargo",
    title: "Taxa VAA",
    popover: "Taxa de variação em relação ao mesmo mês do ano anterior"
  });

  sparkTVAAEmbargo.drawChart = function() {
    var periodDeforesttionRate, value;
    periodDeforesttionRate = function(year, month) {
      var curDate, curValue, preDate, preValue, sumValues;
      sumValues = function(date) {
        var reg, state, sum, _ref14, _ref15;
        sum = 0;
        if (H5.Data.state === "brasil") {
          for (state in H5.DB.embargo.data.states) {
            for (reg in H5.DB.embargo.data.states[state]) {
              reg = H5.DB.embargo.data.states[state][reg];
              if ((date.getFullYear() <= (_ref14 = reg.year) && _ref14 <= date.getFullYear()) && reg.month === date.getMonth()) {
                sum += reg.area;
              }
            }
          }
        } else {
          for (reg in H5.DB.embargo.data.states[H5.Data.state]) {
            reg = H5.DB.embargo.data.states[H5.Data.state][reg];
            if ((date.getFullYear() <= (_ref15 = reg.year) && _ref15 <= date.getFullYear()) && reg.month === date.getMonth()) {
              sum += reg.area;
            }
          }
        }
        return sum;
      };
      curDate = new Date(year, month);
      preDate = new Date(year - 1, month);
      curValue = sumValues(curDate);
      preValue = sumValues(preDate);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  sparkTVMAEmbargo = new H5.Charts.Knobs({
    container: "spark-tvma-embargo",
    title: "Taxa VMA",
    popover: "Taxa de variação em relação ao mês anterior"
  });

  sparkTVMAEmbargo.drawChart = function() {
    var periodDeforesttionRate, value;
    periodDeforesttionRate = function(year, month) {
      var curDate, curValue, preDate, preValue, sumValues;
      sumValues = function(date) {
        var reg, state, sum, _ref14, _ref15;
        sum = 0;
        if (H5.Data.state === "brasil") {
          for (state in H5.DB.embargo.data.states) {
            for (reg in H5.DB.embargo.data.states[state]) {
              reg = H5.DB.embargo.data.states[state][reg];
              if ((date.getFullYear() <= (_ref14 = reg.year) && _ref14 <= date.getFullYear()) && reg.month === date.getMonth()) {
                sum += reg.area;
              }
            }
          }
        } else {
          for (reg in H5.DB.embargo.data.states[H5.Data.state]) {
            reg = H5.DB.embargo.data.states[H5.Data.state][reg];
            if ((date.getFullYear() <= (_ref15 = reg.year) && _ref15 <= date.getFullYear()) && reg.month === date.getMonth()) {
              sum += reg.area;
            }
          }
        }
        return sum;
      };
      curDate = new Date(year, month);
      preDate = new Date(year, month - 1);
      curValue = sumValues(curDate);
      preValue = sumValues(preDate);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  sparkTVPAEmbargo = new H5.Charts.Knobs({
    container: "spark-tvpa-embargo",
    title: "Taxa VPA",
    popover: "Taxa de variação em relação ao período PRODES anterior"
  });

  sparkTVPAEmbargo.drawChart = function() {
    var periodDeforesttionAvgRate, value;
    periodDeforesttionAvgRate = function(year, month) {
      var curValue, preValue, sumPeriods, sumValues;
      sumValues = function(firstPeriod, secondPeriod) {
        var key, name, reg, state, sum, _ref14, _ref15, _ref16, _ref17;
        sum = 0;
        if (H5.Data.state === "brasil") {
          _ref14 = H5.DB.embargo.data.states;
          for (name in _ref14) {
            state = _ref14[name];
            for (key in state) {
              reg = state[key];
              if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod)) {
                sum += reg.area;
              }
            }
          }
        } else {
          _ref16 = H5.DB.embargo.data.states[H5.Data.state];
          for (key in _ref16) {
            reg = _ref16[key];
            if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod)) {
              sum += reg.area;
            }
          }
        }
        return Math.round(sum * 100) / 100;
      };
      if (month > 6) {
        year++;
      } else {
        year;
      }
      sumPeriods = function(year, month) {
        var firstPeriod, secondPeriod;
        firstPeriod = new Date(year - 1, 7, 1);
        if (month > 6) {
          if (month === H5.Data.thisMonth) {
            secondPeriod = new Date(year - 1, month, H5.Data.thisDay);
          } else {
            secondPeriod = new Date(year - 1, month + 1, 0);
          }
        } else {
          if (month === H5.Data.thisMonth) {
            secondPeriod = new Date(year, month, H5.Data.thisDay);
          } else {
            secondPeriod = new Date(year, month + 1, 0);
          }
        }
        return sumValues(firstPeriod, secondPeriod);
      };
      curValue = sumPeriods(year, month);
      preValue = sumPeriods(year - 1, month);
      if (preValue === 0) {
        return 0;
      } else {
        return Math.round((curValue - preValue) / preValue * 100);
      }
    };
    value = periodDeforesttionAvgRate(H5.Data.selectedYear, H5.Data.selectedMonth);
    return this.updateInfo(value);
  };

  sparkMonthlyEmbargo = new H5.Charts.Sparks({
    container: "spark-monthly-embargo",
    title: "Total Mensal"
  });

  sparkMonthlyEmbargo.drawChart = function() {
    var createTable, data, day, daysInMonth, firstPeriod, name, secondPeriod, state, value, _k, _ref14;
    createTable = (function(_this) {
      return function(state) {
        var day, dayValue, key, reg, _fn, _k, _ref14, _results;
        dayValue = 0;
        _results = [];
        for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
          _ref14 = H5.DB.embargo.data.states[state];
          _fn = function(reg) {
            var _ref15;
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.day === day) {
              dayValue += reg.area;
              return false;
            }
          };
          for (key in _ref14) {
            reg = _ref14[key];
            _fn(reg);
          }
          _results.push(data[day - 1] = Math.round((data[day - 1] + dayValue) * 100) / 100);
        }
        return _results;
      };
    })(this);
    daysInMonth = new Date(H5.Data.selectedYear, H5.Data.selectedMonth + 1, 0).getDate();
    firstPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, 1);
    secondPeriod = new Date(H5.Data.selectedYear, H5.Data.selectedMonth, daysInMonth);
    data = [];
    for (day = _k = 1; 1 <= daysInMonth ? _k <= daysInMonth : _k >= daysInMonth; day = 1 <= daysInMonth ? ++_k : --_k) {
      data[day - 1] = 0;
    }
    if (H5.Data.state === "brasil") {
      _ref14 = H5.DB.embargo.data.states;
      for (name in _ref14) {
        state = _ref14[name];
        createTable(name);
      }
    } else {
      createTable(H5.Data.state);
    }
    value = data[daysInMonth - 1];
    return this.updateInfo(data, value);
  };

  sparkAnnualEmbargo = new H5.Charts.Sparks({
    container: "spark-annual-embargo",
    title: "Total Período"
  });

  sparkAnnualEmbargo.drawChart = function() {
    var count, data, month, sumValues, value, year, _ref14;
    sumValues = function(year, month) {
      var firstPeriod, key, name, reg, secondPeriod, state, sum, _ref14, _ref15, _ref16, _ref17;
      sum = 0;
      firstPeriod = new Date(year - 1, 7, 1);
      if (month > 6) {
        secondPeriod = new Date(year - 1, month + 1, 0);
      } else if (month !== H5.Data.thisMonth) {
        secondPeriod = new Date(year, month + 1, 0);
      } else {
        secondPeriod = new Date(year, month, H5.Data.thisDay);
      }
      if (H5.Data.state === "brasil") {
        _ref14 = H5.DB.embargo.data.states;
        for (name in _ref14) {
          state = _ref14[name];
          for (key in state) {
            reg = state[key];
            if ((firstPeriod <= (_ref15 = reg.date) && _ref15 <= secondPeriod) && reg.month === month) {
              sum += reg.area;
            }
          }
        }
      } else {
        _ref16 = H5.DB.embargo.data.states[H5.Data.state];
        for (key in _ref16) {
          reg = _ref16[key];
          if ((firstPeriod <= (_ref17 = reg.date) && _ref17 <= secondPeriod) && reg.month === month) {
            sum += reg.area;
          }
        }
      }
      return Math.round(sum * 100) / 100;
    };
    data = [];
    for (month in H5.Data.months) {
      month = parseInt(month);
      year = H5.Data.selectedMonth < 7 ? H5.Data.selectedYear : H5.Data.selectedYear + 1;
      count = parseInt(H5.Data.selectedMonth);
      if (count >= 7) {
        count -= 7;
      } else {
        count += 5;
      }
      if (month <= count) {
        if ((7 <= (_ref14 = month + 7) && _ref14 <= 11)) {
          month += 7;
        } else {
          month -= 5;
        }
        data.push(sumValues(year, month));
      } else {
        data.push(0);
      }
    }
    value = 0;
    $.each(data, function() {
      return value += this;
    });
    return this.updateInfo(data, Math.round(value * 100) / 100);
  };

  reloadChartsDeter = function() {
    chart1.drawChart();
    chart2.drawChart();
    chart3.drawChart();
    chart4.drawChart();
    chart5.drawChart();
    chart6.drawChart();
    chart7.drawChart();
    chart8.drawChart();
    chart9.drawChart();
    knob1.drawChart();
    knob2.drawChart();
    knob3.drawChart();
    spark1.drawChart();
    return spark2.drawChart();
  };

  reloadChartsEmbargos = function() {
    chartDailyEmbargo.drawChart();
    chartMonthlyEmbargo.drawChart();
    chartAnnualEmbargo.drawChart();
    chartStatesEmbargo.drawChart();
    sparkTVAAEmbargo.drawChart();
    sparkTVMAEmbargo.drawChart();
    sparkTVPAEmbargo.drawChart();
    sparkAnnualEmbargo.drawChart();
    return sparkMonthlyEmbargo.drawChart();
  };

  selectYears = document.getElementById('yearsSlct');

  selectMonths = document.getElementById('monthsSlct');

  selectType = document.getElementById('typeSlct');

  chartsDeter = document.getElementById('charts-deter');

  chartsEmbargo = document.getElementById('charts-embargo');

  sparksDeter = document.getElementById('sparks-deter');

  sparksEmbargo = document.getElementById('sparks-embargo');

  $(chartsEmbargo).hide();

  $(sparksEmbargo).hide();

  selectedYear = H5.Data.thisMonth < 7 ? H5.Data.totalPeriods + 1 : H5.Data.totalPeriods;

  selectYears.options[selectedYear].selected = true;

  selectMonths.options[H5.Data.thisMonth].selected = true;

  $(selectMonths).on("change", function(e) {
    e.preventDefault();
    H5.Data.selectedMonth = parseInt(selectMonths.value);
    if (H5.Data.selectedType === "embargos") {
      return reloadChartsEmbargos();
    } else if (H5.Data.selectedType === 'awifs') {
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart5.drawChart();
      chart6.drawChart();
      chart7.drawChart();
      return chart8.drawChart();
    } else if (H5.Data.selectedType === 'indicar') {
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart7.drawChart();
      return chart8.drawChart();
    } else {
      chart1.drawChart();
      chart3.drawChart();
      chart8.drawChart();
      knob1.drawChart();
      knob2.drawChart();
      knob3.drawChart();
      spark1.drawChart();
      return spark2.drawChart();
    }
  });

  $(selectYears).on("change", function(e) {
    e.preventDefault();
    H5.Data.selectedYear = parseInt(selectYears.value);
    if (H5.Data.selectedType === "embargos") {
      reloadChartsEmbargos();
    } else if (H5.Data.selectedType === 'awifs') {
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart5.drawChart();
      chart6.drawChart();
      chart7.drawChart();
      chart8.drawChart();
    } else if (H5.Data.selectedType === 'indicar') {
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart7.drawChart();
      chart8.drawChart();
    } else {
      chart1.drawChart();
      chart3.drawChart();
      chart8.drawChart();
      knob1.drawChart();
      knob2.drawChart();
      knob3.drawChart();
      spark1.drawChart();
      spark2.drawChart();
    }
    return H5.Data.changed = true;
  });

  _ref14 = H5.Data.regions.names;
  for (_k = 0, _len = _ref14.length; _k < _len; _k++) {
    region = _ref14[_k];
    $("#" + region).hide();
  }

  _ref15 = H5.Data.regions.amazonia;
  for (_l = 0, _len1 = _ref15.length; _l < _len1; _l++) {
    state = _ref15[_l];
    $("#" + state).show();
  }

  $(selectType).on("change", function(e) {
    var _len10, _len11, _len12, _len13, _len14, _len15, _len2, _len3, _len4, _len5, _len6, _len7, _len8, _len9, _m, _n, _o, _p, _q, _r, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _s, _t, _u, _v, _w, _x, _y, _z;
    e.preventDefault();
    H5.Data.selectedType = this.value;
    if (this.value === "deter") {
      $("#chart3").show();
      $("#chart5").show();
      $("#chart6").show();
      _ref16 = H5.Data.regions.names;
      for (_m = 0, _len2 = _ref16.length; _m < _len2; _m++) {
        region = _ref16[_m];
        $("#" + region).hide();
      }
      _ref17 = H5.Data.regions.norte;
      for (_n = 0, _len3 = _ref17.length; _n < _len3; _n++) {
        state = _ref17[_n];
        $("#" + state).hide();
      }
      _ref18 = H5.Data.regions.sul;
      for (_o = 0, _len4 = _ref18.length; _o < _len4; _o++) {
        state = _ref18[_o];
        $("#" + state).hide();
      }
      _ref19 = H5.Data.regions.nordeste;
      for (_p = 0, _len5 = _ref19.length; _p < _len5; _p++) {
        state = _ref19[_p];
        $("#" + state).hide();
      }
      _ref20 = H5.Data.regions.sudeste;
      for (_q = 0, _len6 = _ref20.length; _q < _len6; _q++) {
        state = _ref20[_q];
        $("#" + state).hide();
      }
      _ref21 = H5.Data.regions.centrooeste;
      for (_r = 0, _len7 = _ref21.length; _r < _len7; _r++) {
        state = _ref21[_r];
        $("#" + state).hide();
      }
      _ref22 = H5.Data.regions.amazonia;
      for (_s = 0, _len8 = _ref22.length; _s < _len8; _s++) {
        state = _ref22[_s];
        $("#" + state).show();
      }
      $(chartsEmbargo).hide();
      $(sparksEmbargo).hide();
      $(chartsDeter).show();
      $(sparksDeter).show();
      $("#brasil").addClass("active");
      H5.Data.state = "brasil";
      reloadChartsDeter();
    } else if (this.value === "embargos") {
      _ref23 = H5.Data.regions.names;
      for (_t = 0, _len9 = _ref23.length; _t < _len9; _t++) {
        region = _ref23[_t];
        $("#" + region).show();
      }
      _ref24 = H5.Data.regions.norte;
      for (_u = 0, _len10 = _ref24.length; _u < _len10; _u++) {
        state = _ref24[_u];
        $("#" + state).hide();
      }
      _ref25 = H5.Data.regions.sul;
      for (_v = 0, _len11 = _ref25.length; _v < _len11; _v++) {
        state = _ref25[_v];
        $("#" + state).hide();
      }
      _ref26 = H5.Data.regions.nordeste;
      for (_w = 0, _len12 = _ref26.length; _w < _len12; _w++) {
        state = _ref26[_w];
        $("#" + state).hide();
      }
      _ref27 = H5.Data.regions.sudeste;
      for (_x = 0, _len13 = _ref27.length; _x < _len13; _x++) {
        state = _ref27[_x];
        $("#" + state).hide();
      }
      _ref28 = H5.Data.regions.centrooeste;
      for (_y = 0, _len14 = _ref28.length; _y < _len14; _y++) {
        state = _ref28[_y];
        $("#" + state).hide();
      }
      $("#brasil").show();
      $(chartsDeter).hide();
      $(sparksDeter).hide();
      $(chartsEmbargo).show();
      $(sparksEmbargo).show();
      _ref29 = H5.Data.regions.names;
      for (_z = 0, _len15 = _ref29.length; _z < _len15; _z++) {
        region = _ref29[_z];
        $("#" + region).children("i").prop("class", "icon-" + region);
        $("#" + region).removeClass("active");
        $("#brasil").addClass("active");
        H5.Data.state = "brasil";
      }
      reloadChartsEmbargos();
    } else if (this.value === 'awifs') {
      $("#chart3").hide();
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart5.drawChart();
      chart6.drawChart();
      chart7.drawChart();
      chart8.drawChart();
    } else if (this.value === 'indicar') {
      $("#chart3").hide();
      $("#chart5").hide();
      $("#chart6").hide();
      chart1.drawChart();
      chart2.drawChart();
      chart4.drawChart();
      chart7.drawChart();
      chart8.drawChart();
    }
    return H5.Data.selectedType = this.value;
  });

  lastSelectedRegion = "";

  $("#quick1 a").on("click", function(e) {
    var displayRegion, enableRegion, regionToggle, _len2, _m, _ref16;
    e.preventDefault();
    if (H5.Data.state === this.id) {
      return;
    }
    H5.Data.state = this.id;
    $(this).each(function() {
      return $("a").removeClass("active");
    });
    if (H5.Data.selectedType === "embargos") {
      regionToggle = function(regions, fastHide) {
        var _len2, _m, _results;
        _results = [];
        for (_m = 0, _len2 = regions.length; _m < _len2; _m++) {
          region = regions[_m];
          if (fastHide) {
            _results.push($("#" + region).toggle());
          } else {
            _results.push($("#" + region).fadeToggle(300));
          }
        }
        return _results;
      };
      displayRegion = function(region) {
        regionToggle(H5.Data.regions.names, true);
        regionToggle(region);
        lastSelectedRegion = H5.Data.state;
        return $("#brasil").hide();
      };
      enableRegion = function(region, name) {
        var iconElement;
        regionToggle(region, true);
        $("#" + name).addClass("active");
        iconElement = $("#" + name).children("i");
        iconElement.prop("class", "icon-" + H5.Data.state.toLowerCase());
        return $("#brasil").show();
      };
      _ref16 = H5.Data.regions.names;
      for (_m = 0, _len2 = _ref16.length; _m < _len2; _m++) {
        region = _ref16[_m];
        $("#" + region).children("i").prop("class", "icon-" + region);
      }
      switch (H5.Data.state) {
        case "norte":
          return displayRegion(H5.Data.regions.norte);
        case "nordeste":
          return displayRegion(H5.Data.regions.nordeste);
        case "sul":
          return displayRegion(H5.Data.regions.sul);
        case "sudeste":
          return displayRegion(H5.Data.regions.sudeste);
        case "centrooeste":
          return displayRegion(H5.Data.regions.centrooeste);
        case "brasil":
          $(this).addClass("active");
          return reloadChartsEmbargos();
        default:
          switch (lastSelectedRegion) {
            case "norte":
              enableRegion(H5.Data.regions.norte, "norte");
              break;
            case "nordeste":
              enableRegion(H5.Data.regions.nordeste, "nordeste");
              break;
            case "sul":
              enableRegion(H5.Data.regions.sul, "sul");
              break;
            case "sudeste":
              enableRegion(H5.Data.regions.sudeste, "sudeste");
              break;
            case "centrooeste":
              enableRegion(H5.Data.regions.centrooeste, "centrooeste");
          }
          regionToggle(H5.Data.regions.names);
          return reloadChartsEmbargos();
      }
    } else {
      $(this).addClass("active");
      reloadChartsDeter();
      return H5.Data.changed = true;
    }
  });

  $(document).ready(function() {
    $("[rel=tooltip]").tooltip({
      placement: "bottom"
    });
    $(".alert").alert();
    reloadChartsDeter();
    $("#charts-content").masonry({
      itemSelector: ".chart",
      animationOptions: {
        duration: 1000
      }
    });
    return $("#prodes").hide();
  });

}).call(this);
